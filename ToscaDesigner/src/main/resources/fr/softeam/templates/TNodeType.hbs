{{imports this}}
node_types:
  {{owner.name}}.{{name}}:
{{#if (getProperty this "description")}}   description: {{getProperty this "description"}}
{{/if}}{{#if (getProperty this "derivedFrom")}}    derived_from: {{getProperty this "derivedFrom"}}{{/if}}
    metadata:
      targetNamespace: "{{getProperty this "targetNamespace"}}"
      abstract: "{{getProperty this "abstract"}}"
      final: "{{getProperty this "final"}}"
    {{#unless (noStereotypeApplications this "TRequirementDefinitionType")}}requirements:{{/unless}}
	{{#each ownedElement}}{{#extension}}{{#eq name "TRequirementDefinitionType"}}{{#each ../ownedAttribute}}{{#extension}}{{#eq name "TRequirementDefinition"}}
      - {{../name}}:
          capability: {{getProperty ../this "capability"}}
          relationship: {{getProperty ../this "relationshipType"}}
          occurrences: [{{../multiplicityMin}}, {{../multiplicityMax}}]
    {{/eq}}{{/extension}}{{/each}}{{/eq}}{{/extension}}{{/each}}
	{{#unless (noStereotypeApplications this "CapabilityDefinitionsType")}}capabilities:{{/unless}}
    {{#each ownedElement}}{{#extension}}{{#eq name "CapabilityDefinitionsType"}}{{#each ../ownedAttribute}}{{#extension}}{{#eq name "TCapabilityDefinition"}}
      {{../name}}:
        occurrences: [{{../multiplicityMin}}, {{../multiplicityMax}}]
        type: tosca.capabilities.Endpoint
    {{/eq}}{{/extension}}{{/each}}{{/eq}}{{/extension}}{{/each}}
